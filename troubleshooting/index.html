<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="alterNERDtive">
  <link rel="canonical" href="https://alterNERDtive.github.io/bindED/troubleshooting/">
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Troubleshooting - bindED VoiceAttack plugin</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Troubleshooting";
    var mkdocs_page_input_path = "troubleshooting.md";
    var mkdocs_page_url = "/bindED/troubleshooting/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> bindED VoiceAttack plugin</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="..">bindED</a>
                    </li>
                </ul>
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Troubleshooting</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#diagnosing-plugin-issues">Diagnosing Plugin Issues</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#migrating-from-the-old-plugin">Migrating from the Old Plugin</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#make-sure-you-actually-have-binds-files">Make Sure You Actually Have Binds Files</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#horizons-vs-odyssey">Horizons vs. Odyssey</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#specifying-a-binds-file-to-load">Specifying a Binds File to Load</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#adding-a-keyboard-layout">Adding a Keyboard Layout</a>
    </li>
    </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="" href="https://github.com/alterNERDtive/bindED/issues/">⎋ Report a Bug</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">bindED VoiceAttack plugin</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Troubleshooting</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/alterNERDtive/bindED/edit/devel/docs/troubleshooting.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  
    <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
        <a href=".." class="btn btn-neutral" title="bindED"><span class="icon icon-circle-arrow-left"></span> Previous</a>
    </div>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permanent link">&para;</a></h1>
<h2 id="diagnosing-plugin-issues">Diagnosing Plugin Issues<a class="headerlink" href="#diagnosing-plugin-issues" title="Permanent link">&para;</a></h2>
<p>If something goes awry you can manually call the <code>loadbinds</code> plugin context or
restart VoiceAttack to force a refresh.</p>
<p>If that doesn’t help and your problems persist the first step should be to
import and load the included <code>bindED-diagnostics</code> profile from the plugin
directory. It will output the current plugin state (keyboard layout, preset and
binds file used) to the VoiceAttack log. You should also include the output of
that if you file an issue or ask for help on Discord.</p>
<p>If that seems correct, there’s the <code>bindED-reports</code> profile. It will generate
both a list of bind names used by Elite and a report of binds that do not have a
keyboard shortcut assigned, and put them on your Desktop. Note that those lists
are currently not filtered in any way and will contain <em>all</em> binds regardless if
they are used in any profiles or if they can even have a keyboard key assigned
(e.g. axes).</p>
<h2 id="migrating-from-the-old-plugin">Migrating from the Old Plugin<a class="headerlink" href="#migrating-from-the-old-plugin" title="Permanent link">&para;</a></h2>
<p>If you use this as a drop-in replacement for the initial version of bindED made
by Gary all commands invoking the plugin will throw an error message. Gary has
asked me to change the plugin’s GUID, and the plugin with the old one will no
longer be found. <em>That is irrelevant in basically all cases and can safely be
ignored</em>.</p>
<p>Binds will be read automatically when VoiceAttack starts and whenever they
change. To get rid of the error message(s) remove the outdated plugin
invocation(s) from your commands.</p>
<h2 id="make-sure-you-actually-have-binds-files">Make Sure You Actually Have Binds Files<a class="headerlink" href="#make-sure-you-actually-have-binds-files" title="Permanent link">&para;</a></h2>
<p>Before starting VoiceAttack with the plugin installed, you need to load the game
at least once! That will create the directory structure the plugin is going to
read from. You also need to have changed <em>any</em> key in controls options.</p>
<h2 id="horizons-vs-odyssey">Horizons vs. Odyssey<a class="headerlink" href="#horizons-vs-odyssey" title="Permanent link">&para;</a></h2>
<p><strong>Note</strong>: If you do not own Odyssey, everything will work just as before!</p>
<p>Sadly for the time being Odyssey and Horizons will basically be separate games.
That also means they have separate binds files. BindED will always default to
using the file generated by Odyssey (<code>&lt;preset&gt;.4.0.binds</code>) if it exists.</p>
<p>To keep hassle to a minimum, the recommended way to change binds is to do it
from Odyssey. Whenever a change to the Odyssey file is detected, the plugin will
overwrite Horizons’ binds (<code>&lt;preset&gt;.3.0.binds</code>) with it. If you for some reason
want to keep entirely separate binds, you can set <code>bindED.disableHorizonsSync#</code>
(yes, including the pound sign) to <code>true</code> in your VoiceAttack profile. Whenever
you are playing Horizons you will have to tell the plugin to load the Horizons
file (see <a href="#specifying-a-binds-file-to-load">#Specifying a Binds File to Load</a>).</p>
<h2 id="specifying-a-binds-file-to-load">Specifying a Binds File to Load<a class="headerlink" href="#specifying-a-binds-file-to-load" title="Permanent link">&para;</a></h2>
<p>You can set the text variable <code>~bindsFile</code> to a specific file name (e.g.
<code>custom.3.0.binds</code>) before executing the <code>loadbinds</code> context to have that
specific binds file loaded.</p>
<p>Make sure to only use the <em>file name</em> of an existing binds file, do <em>not</em>
specify the full path.</p>
<p>This should be a last resort effort for when the game introduces changes that
break the plugin’s auto detection.</p>
<h2 id="adding-a-keyboard-layout">Adding a Keyboard Layout<a class="headerlink" href="#adding-a-keyboard-layout" title="Permanent link">&para;</a></h2>
<p>If you are using any non-US layout you might have noticed that some binds don’t
work. The game itself supports a certain range of “standard” keyboard layouts
and falls back to UK QWERTY if you are using something else. The original plugin
was made for the US keyboard layout. So if you are using a layout that is not
natively supported by Elite and/or that has keys that don’t exist on the US
layout, some keys will not work out of the box, e.g.:</p>
<ul>
<li>“VoiceAttack presses <code>p</code> but the game thinks it’s <code>v</code>!” (layout not natively
  supported by Elite)</li>
<li>“VoiceAttack presses <code>ß</code> but nothing happens!” (key not in the US key map)</li>
</ul>
<p>I have included a map file for <a href="https://neo-layout.org">Neo2</a>
(<code>EDMap-de-neo2.txt</code>) which is the layout that I am using personally and
A.Cyprus was kind enough to provide full support for en-GB. If you are on a
different layout, you will have to create a corresponding map file yourself. But
if you do I’ll be happy to include it in future releases!</p>
<p>To add support for a new keyboard layout, you will have to create the
corresponding <code>EDMap-&lt;id&gt;.txt</code> file. Start by copying <code>EDMap-en-us.txt</code> in the
plugin directory and renaming it appropriately. The file contains a list of
<code>sym:code</code> pairs, one per line. The <code>sym</code> part is exactly like it is listed in
Elite’s <code>.binds</code> files, the <code>code</code> is the corresponding keycode VoiceAttack is
going to send.</p>
<p>You will have to go through the entire list and replace the existing <code>code</code>s
with the right ones for your layout. In order to do so I recommend following
these steps:</p>
<ol>
<li>Open a reference for the UK QWERTY layout, <a href="https://en.wikipedia.org/wiki/QWERTY#/media/File:KB_United_Kingdom.svg">e.g. Wikipedia’s
   image</a>.</li>
<li>Get a tool that can display keycodes for keys you press, <a href="https://www.nirsoft.net/utils/keyboard_state_view.html">e.g. NirSoft’s
   KeyboardStateView</a>.
   Or anything else that does it. Make sure it shows you <em>decimal</em> keycodes
   instead of (only) hex!</li>
<li>Make sure your PC is actually set to the layout you want to add.</li>
<li>Go through the file one by one.<ol>
<li>Take note of its position on the keyboard. In this example we are using
   the one in the top left next to <code>1</code> and my layout Neo2.</li>
<li>Find the correct key on the UK reference, for this example “Key_Grave”.</li>
<li>Press the corresponding key on your keyboard and observe the keycode it
   produces. For Neo2 that was 186.</li>
<li>Change the <code>code</code> in the line to the correct keycode. For Neo2 the line
   reads “Key_Grave:186”.</li>
<li>Repeat for the next line.</li>
</ol>
</li>
</ol>
<p>There are a bunch of symbols in the file that aren’t on a standard keyboard,
just ignore those. If you have extra keys that are not on the UK QWERTY layout,
you’ll have to go into the game’s controls options and try binding those keys.
If it works take the symbols they produce and go back to step 4 with them.</p>
<p>For the actual <em>letters</em> you’ll have to assign the keycode of the key you are
pressing to the “Key_X” that is displayed ingame. So if the ingame controls
options say you’ve just pressed “H”, replace the “Key_H” line with the keycode
you get when you press the key you bound ingame. If the game assigns the letters
that are actually in that place on your layout, you won’t have to do anything
for these.</p>
<p>Once you have tested and confirmed everything working, feel free to open a pull
request or issue and I’ll include the new map!</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href=".." class="btn btn-neutral" title="bindED"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/alterNERDtive/bindED/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href=".." style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
